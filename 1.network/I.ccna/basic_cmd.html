<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link href="/my_notes/styles/note_style.css" rel="stylesheet" type="text/css">
		<link href="../../styles/note_style.css" rel="stylesheet" type="text/css">
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
		<script>
			$(function(){
				$(".navi_span_home").load("/my_notes/navigations/navi_bar_home.html");
				$(".navi_span").load("/my_notes/navigations/navi_bar_1.html");
			});
		</script>
		<title>Basic cmd</title>
		<style>
			header{ background-image: linear-gradient( 90deg, #21618C 10%, #229954 100%); }
			li.navi a#I{background-color: #4CAF50;} /* which one be green */
		</style>
	</head>
<!-------------------------------------------------->
	<body>
		<header>
			<p onclick="hidebar()" id="title">Basic cmd</p>
		</header>
		<ul class="navi">
			<span class="navi_span_home"></span>
			<span class="navi_span"></span>
		</ul>
<!--D1----------------------------------------------> 
	<div class="block" onclick="hidebar()">


	<h2>Beginning setting</h2>
		<p class="code">
			no ip domain-lookup<br>
			hostname <span class="input">R1</span><br>
			banner motd % <span class="input">Welcomm!!</span> %
		</p>
		<h3>Saving</h3>
		<p class="code">copy running-config startup-config</p>
		<h3>Checking</h3>
		<p class="code">show running-config<br>show history</p>


		<h2>Password</h2>
		<h3>Console password</h3>
		<p class="code">
			line console 0<br>
			password <span class="input">88888</span><br>
			login<br>
		</p>
		<h3>Enable password</h3>
		<p class="code">
			enable password <span class="input">88888</span><br>
			enable secret <span class="input">99999</span><br>
		</p>
		<p>"secret" has higher level than "password", means "99999" will replace "88888" to be the only password to reach privileged mode.</p>
		<h3>Password Encrypt</h3>
		<p class="code">
			service password-encryption
		</p>


	<h2>IP setting</h2>
		<h3>IPv4</h3>
		<p class="code">
			int <span class="input">g0/0</span><br>
			ip add <span class="input">192.168.1.1 255.255.255.0</span><br>
			no shutdown
		</p>
		<p class="code">
			int <span class="input">s0/0/0</span><br>
			ip add <span class="input">10.1.1.1 255.255.255.0</span><br>
			clock rate <span class="input">9600</span><br>
			no shutdown
		</p>
		<p class="code">show ip int br<br>show int <span class="input">g0/0</span></p>
		<h3>IPv6 (SLAAC)</h3>
		<p class="code">
			ipv6 unicast-routing<br>
			int <span class="input">g0/0</span><br>
			ipv6 enable<br>
			ipv6 add <span class="input">FC00::/64</span> eui-64<br>
			ipv6 add <span class="input">2001::/64</span> eui-64
		</p>
		<p>
			● "ipv6 enable" generate Link-Local address by eui-64.<br>
			● "FC00" generate Unique local address by eui-64.<br>
			● "2001" generate Global aggregatable address by eui-64.<br>
			● "eui-64" 是一個自動生成後64位的方法，叫 SLAAC.<br>
			想動手設定 address 可用以下 cmd :
		</p>
		<p class="code">
			ipv6 add <span class="input">FE80::1234</span> link-local<br>
			ipv6 add <span class="input">FC00::1234/64</span><br>
			ipv6 add <span class="input">2001::1234/64</span>
		</p>
		<p class="code">show ipv6 int br</p>

	
	<h2>Telnet</h2>
		<h3>Virtual terminal password</h3>
		<p class="code">
			line vty <span class="input">0 15</span><br>
			password <span class="input">88888</span><br>
			login<br>
			transport input telnet<br>
		</p>
		<p>Before you can remotely access, "Enable password" must be set !!!</p>
		<h3>Local user</h3>
		<p class="code">
			username <span class="input">peter</span> password <span class="input">1234</span><br>
			username <span class="input">admin</span> privilege <span class="input">15</span> secret <span class="input">88888</span><br>
			login block <span class="input">120</span> att <span class="input">3</span> w <span class="input">60</span>
		</p>
		<p>
			● The default privilege is 15, so local user "admin" & "peter" have the same privilege level 15, which is the top level.<br>
			● Log-in block for 120s when 3 wrong attempts in 60s.
		</p>
		<h3>Idle timer</h3>
		<p class="code">
			line vty <span class="input">0 15</span><br>
			login local<br>
			exec-timeout <span class="input">3</span>
		</p>
		<p>
			● Use local user as authentication.<br>
			● Account log-out the vty when idle 3 mins.
		</p>


	<h2>SSH</h2>
		<h3>Step1. define crypto</h3>
		<p class="code">ip domain-name <span class="input">abc</span><br>crypto key generate rsa</p>
		<p>Then you'll be asked for the size of RSA key.</p>
		<h3>Step2. define SSH</h3>
		<p class="code">
			ip ssh version 2<br>
			ip ssh authentication-retries <span class="input">3</span><br>
			ip ssh time-out <span class="input">10</span><br>
		</p>
		<p>
			● maximum attempts of wrong password is 3.<br>
			● time-out interval is 10 second.<br>
		</p>
		<h3>Step3. set SSH</h3>
		<p class="code">
			line vty 0 15<br>
			login local<br>
			transport input ssh
		</p>
		
	
	<h2>HSRP</h2>
		<p>Hot Standby Router Protocol, 是 Cisco 專利</p>
		<p class="lilbr"><br></p>
		<p>On Router-1 :</p>
		<p class="code">
			int <span class="input">g0/1</span><br>
			ip add <span class="input">10.0.0.1 255.255.255.0</span><br>
			standby <span class="input">1</span> ip <span class="input">10.0.0.254</span><br>
			standby version 2<br>
			standby <span class="input">1</span> priority <span class="input">150</span><br>
			standby <span class="input">1</span> preempt
		</p>
		<p>On Router-2 :</p>
		<p class="code">
			int vlan <span class="input">10</span><br>
			ip add <span class="input">10.0.0.2 255.255.255.0</span><br>
			standby <span class="input">1</span> ip <span class="input">10.0.0.254</span><br>
			standby version 2
		</p>
		<p>
			● "10.0.0.1" and "10.0.0.2" is physical address.<br>
			● "10.0.0.254" is virtual address, it is gateway.<br>
			● "1" is Group ID.<br>
			● "version 2" is HSRP version.<br>
			● "priority" 預設是 100, 最大的做 active router.<br>
			● "preempt"，跟據預設，有新 router 上線不會引起選舉，即 active router 由誰當不會因為新 router 的 priority 而變。除非新 router enable 了 preempt。例如我們期望 R1 永遠當 active router, 假如 R1 因電力問題掉線而讓出了 active router，當 R1 回複電力時需要重奪 active router 之位，我們就要在 R1 上 enable preempt.
		</p>
		<p class="lilbr"><br></p>
		<p class="code">show standby</p>

		<h3>VRRPv3</h3>
		<p>Virtual Router Redundancy Protocol, non-proprietary</p>

		<h3>GLBP</h3>
		<p>Gateway Load Balancing Protocol, Cisco-proprietary.<br>
		基本同 HSRP 和 VRRP 相似，另外多了 load balancing between a group of redundant routers.</p>


	<h2>NTP</h2>
		<p class="code">
			ntp server <span class="input">time.google.com</span><br>
			ntp peer <span class="input">10.1.1.20</span><br>
		</p>
		<p>
			只有 server 失去聯繫時，才會向 peer 取得時間。
		</p>
		<p class="code">
			show ntp status<br>
			show ntp associations<br>
			show clock
		</p>
		<p>				
			"ntp status" 顯示 server 位置 & stratum.<br>
			"ntp associations" 顯示 peer.<br>
			"stratum" 代表層數，0 – 16 層，0 代表時間源頭，16 代表無法同步。
		</p>
		<p class="code">
			clock set <span class="input">hh:mm:ss 08 jun 1988</span><br>
			ntp master <span class="input">5</span><br>
		</p>
		<p>
			"5" 代表向下校時最多去到第 5 層。
		</p>


	<h2>Syslog</h2>
		<p class="code">
			logging <span class="input">10.1.1.2</span><br>
			logging on<br>
			logging trap <span class="input">severity-level</span><br>
			no logging console
		</p>
		<p>
			先指出 Syslog server 位置，後設置嚴重等級。<br>
			"severity-level" is 0 – 7.<br>
			"no logging console" 關閉 log prompting on console.
		</p>



	</div>
<!--------------------------------------------------> 
		<button onclick="topFunction()" id="TopBtn" title="Go to top">T</button> 
		<script>
			function hidebar(){
				var x=document.getElementsByClassName("drop_content");
				x.style.display="none";
			};

			// When the user scrolls down 520px from the top of the document, show the button
			window.onscroll = function() {scrollFunction()};

			function scrollFunction() {
				if (document.body.scrollTop > 520 || document.documentElement.scrollTop > 520) {
					document.getElementById("TopBtn").style.display = "block";
				} else {
					document.getElementById("TopBtn").style.display = "none";
				}
			}

			// When the user clicks on the button, scroll to the top of the document
			function topFunction() {
				document.body.scrollTop = 0;
				document.documentElement.scrollTop = 0;
			}
		</script>  
	</body>
</html>




























